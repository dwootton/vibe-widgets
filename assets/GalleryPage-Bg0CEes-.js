import{c as f,d as L,r as n,E as u,B as T,j as e,m as h,X as y,C as M,A as E,D,e as z}from"./index-D_8R8ZUm.js";import{REVISE_DATA_FILES as R,REVISE_NOTEBOOK as B,PDF_WEB_DATA_FILES as C,PDF_WEB_NOTEBOOK as _,WEATHER_DATA_FILES as A,CROSS_WIDGET_NOTEBOOK as O,TICTACTOE_DATA_FILES as P,TICTACTOE_NOTEBOOK as $}from"./pyodideNotebooks-BSYI5-G3.js";import G from"./PyodideNotebook-DUbu4piM.js";/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],K=f("chart-column",U);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],F=f("layout-grid",W);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],q=f("search",V);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=[["path",{d:"M21 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h6",key:"y09zxi"}],["path",{d:"m21 3-9 9",key:"mpx6sq"}],["path",{d:"M15 3h6v6",key:"1q9fwt"}]],Q=f("square-arrow-out-up-right",H);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Y=f("zap",X),v=[{label:"Featured",icon:Y},{label:"Data Visualization",icon:K},{label:"Reactive",icon:F},{label:"3D",icon:T}],g={"tic-tac-toe":{cells:$,dataFiles:P},"weather-scatter":{cells:O,dataFiles:A},"weather-bars":{cells:O,dataFiles:A},"solar-system":{cells:_,dataFiles:C},"hn-clone":{cells:_,dataFiles:C},"covid-trends":{cells:B,dataFiles:R}},ae=()=>{const[a,x]=L(),[i,c]=n.useState(""),[p,r]=n.useState(!1),[o,S]=n.useState(a.get("focus")),b=n.useRef(null),w=n.useRef(new Map);n.useEffect(()=>{const t=a.get("focus");S(t)},[a]),n.useEffect(()=>{o&&i.trim()&&x({})},[i,o,x]),n.useEffect(()=>{const t=l=>{b.current&&(b.current.contains(l.target)||r(!1))},s=l=>{l.key==="Escape"&&r(!1)};return document.addEventListener("mousedown",t),document.addEventListener("keydown",s),()=>{document.removeEventListener("mousedown",t),document.removeEventListener("keydown",s)}},[]);const m=n.useMemo(()=>{const t=i.trim().toLowerCase();if(!t||t==="all")return u;const s=v.find(({label:l})=>l.toLowerCase()===t);return s?u.filter(l=>l.categories.includes(s.label)):u.filter(l=>[l.label,l.prompt,l.categories.join(" ")].join(" ").toLowerCase().includes(t))},[i]),j=n.useMemo(()=>{const t=i.trim().toLowerCase();if(!t||t==="all")return"All";const s=v.find(({label:l})=>l.toLowerCase()===t);return s?s.label:null},[i]),N=t=>{x({focus:t})},k=()=>{x({})},I=t=>{const s=t.dataUrl;if(s)return w.current.has(s)||w.current.set(s,z([])),w.current.get(s)},d=n.useMemo(()=>u.find(t=>t.id===o),[o]);return e.jsxs("main",{className:"relative pt-32 min-h-screen bg-bone z-20 overflow-x-hidden",children:[e.jsx("div",{className:"container mx-auto px-4 mb-12",children:e.jsxs(h.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col md:flex-row md:items-end justify-between gap-8",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-6xl font-display font-bold mb-4 tracking-tight",children:["WIDGET ",e.jsx("span",{className:"text-orange",children:"GALLERY"})]}),e.jsx("p",{className:"text-xl text-slate/60 font-mono max-w-2xl",children:"A collection of interactive widgets synthesized from natural language."})]}),e.jsx("div",{className:"flex flex-wrap gap-2 bg-slate/5 p-1.5 rounded-xl border border-slate/10 backdrop-blur-sm w-full md:w-auto",children:e.jsxs("div",{ref:b,className:"relative w-full md:w-96 z-40",children:[e.jsxs("div",{className:"relative",children:[e.jsx(q,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate/40"}),e.jsx("input",{value:i,onChange:t=>c(t.target.value),onFocus:()=>r(!0),placeholder:"Search or pick a category…",className:"w-full bg-white border-2 border-slate/10 rounded-lg py-2.5 pl-10 pr-16 font-mono text-xs uppercase tracking-widest focus:outline-none focus:border-orange transition-all"}),i&&e.jsx("button",{type:"button",onClick:()=>{c(""),r(!1)},className:"absolute right-9 top-1/2 -translate-y-1/2 text-slate/30 hover:text-orange transition-colors","aria-label":"Clear filter",children:e.jsx(y,{className:"w-4 h-4"})}),e.jsx("button",{type:"button",onClick:()=>r(!p),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate/30 hover:text-orange transition-colors","aria-label":"Toggle filter menu",children:e.jsx(M,{className:`w-4 h-4 transition-transform ${p?"rotate-180":""}`})})]}),e.jsx(E,{children:p&&e.jsxs(h.div,{initial:{opacity:0,y:-6},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},className:"absolute top-full left-0 right-0 mt-2 bg-white border-2 border-slate rounded-xl shadow-hard z-50 overflow-hidden",children:[e.jsxs("div",{className:"p-4 border-b border-slate/10",children:[e.jsx("div",{className:"text-[10px] font-mono uppercase tracking-widest text-slate/40 mb-3",children:"Categories"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("button",{type:"button",onClick:()=>{c("All"),r(!1)},className:`flex items-center gap-2 px-3 py-2 rounded-lg font-mono text-[10px] uppercase tracking-widest transition-all border ${j==="All"?"bg-orange text-white border-orange shadow-hard-sm":"text-slate/50 border-slate/10 hover:text-orange hover:border-orange/50"}`,children:[e.jsx(F,{className:"w-3 h-3"}),"All"]}),v.map(({label:t,icon:s})=>e.jsxs("button",{type:"button",onClick:()=>{c(t),r(!1)},className:`flex items-center gap-2 px-3 py-2 rounded-lg font-mono text-[10px] uppercase tracking-widest transition-all border ${j===t?"bg-orange text-white border-orange shadow-hard-sm":"text-slate/50 border-slate/10 hover:text-orange hover:border-orange/50"}`,children:[e.jsx(s,{className:"w-3 h-3"}),t]},t))]})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between text-[10px] font-mono uppercase tracking-widest text-slate/40",children:[e.jsx("span",{children:"Matches"}),e.jsxs("span",{children:[m.length," results"]})]}),e.jsxs("div",{className:"mt-3 max-h-64 overflow-y-auto custom-scrollbar",children:[m.length===0?e.jsx("div",{className:"px-3 py-4 text-xs font-mono text-slate/40",children:"No matches. Try a different search."}):m.slice(0,6).map(t=>e.jsxs("button",{type:"button",onClick:()=>{c(t.label),r(!1)},className:"w-full text-left px-3 py-2 rounded-lg hover:bg-orange/5 transition-colors border border-transparent hover:border-orange/20",children:[e.jsx("div",{className:"text-sm font-display font-bold text-slate",children:t.label}),e.jsx("div",{className:"text-[10px] font-mono text-slate/40 uppercase tracking-widest",children:t.categories.join(" • ")})]},t.id)),m.length>6&&e.jsxs("div",{className:"px-3 pt-2 text-[10px] font-mono uppercase tracking-widest text-slate/30",children:["+",m.length-6," more results"]})]})]})]})})]})})]})}),e.jsx("div",{className:"container mx-auto px-4 pb-32",children:e.jsx(E,{mode:"wait",children:o?e.jsxs(h.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},transition:{type:"spring",stiffness:300,damping:30},className:"flex flex-col lg:flex-row gap-4 lg:gap-8 h-[calc(100vh-200px)] sm:h-[calc(100vh-250px)]",children:[e.jsx("div",{className:"hidden lg:flex lg:w-80 flex-shrink-0 overflow-y-auto pr-2 custom-scrollbar",children:e.jsxs("div",{className:"flex flex-col gap-4 w-full",children:[e.jsxs("button",{onClick:k,className:"flex items-center gap-2 p-4 bg-white border-2 border-slate rounded-xl font-mono text-xs uppercase tracking-widest hover:bg-slate hover:text-white transition-all group shadow-hard-sm",children:[e.jsx(y,{className:"w-4 h-4 group-hover:rotate-90 transition-transform"}),"Back to Gallery"]}),u.map(t=>e.jsxs(h.div,{whileHover:{x:4},onClick:()=>N(t.id),className:`
                                                p-4 rounded-xl border-2 cursor-pointer transition-all
                                                ${o===t.id?"bg-orange border-orange text-white shadow-hard-sm":"bg-white border-slate/10 hover:border-orange/50 text-slate"}
                                            `,children:[e.jsx("h4",{className:"font-display font-bold text-sm mb-1",children:t.label}),e.jsx("p",{className:"text-[10px] font-mono uppercase tracking-tighter opacity-60",children:t.categories.join(" • ")})]},t.id))]})}),e.jsxs(h.div,{layoutId:`card-${o}`,className:"flex-1 bg-white border-2 border-slate rounded-2xl shadow-hard overflow-hidden flex flex-col",children:[e.jsxs("button",{onClick:k,className:"lg:hidden flex items-center gap-2 p-4 m-4 mb-0 bg-white border-2 border-slate rounded-xl font-mono text-xs uppercase tracking-widest hover:bg-slate hover:text-white transition-all group shadow-hard-sm",children:[e.jsx(y,{className:"w-4 h-4 group-hover:rotate-90 transition-transform"}),"Back to Gallery"]}),e.jsx("div",{className:"p-4 border-b-2 border-slate/5 flex items-center justify-between bg-bone/50",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-red-400"}),e.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-400"}),e.jsx("div",{className:"w-3 h-3 rounded-full bg-green-400"}),e.jsxs("span",{className:"ml-4 font-mono text-xs text-slate/40 uppercase tracking-widest hidden sm:inline",children:["Synthesis Environment / ",d==null?void 0:d.label]})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4 sm:p-8 custom-scrollbar",children:d&&g[d.id]?e.jsx(G,{cells:g[d.id].cells,dataFiles:g[d.id].dataFiles,notebookKey:d.id}):e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate/30 font-mono",children:[e.jsx(T,{className:"w-12 h-12 mb-4 opacity-20"}),e.jsx("p",{children:"Notebook environment not found for this module."})]})})]})]},"focus"):e.jsx(h.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4 sm:gap-6 auto-rows-[220px] sm:auto-rows-[260px] lg:auto-rows-[300px]",children:m.map((t,s)=>e.jsx(Z,{example:t,index:s,model:I(t),onOpen:()=>N(t.id)},t.id))},"grid")})})]})},Z=({example:a,index:x,model:i,onOpen:c})=>{const p={small:"md:col-span-2 md:row-span-1",medium:"md:col-span-2 md:row-span-2",large:"md:col-span-4 md:row-span-2"},r=!!g[a.id];return e.jsxs(h.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.5,delay:x*.05,type:"spring",stiffness:200,damping:25},className:`
                relative group bg-white border-2 border-slate rounded-2xl overflow-hidden shadow-hard hover:shadow-hard-lg transition-all
                ${r?"cursor-pointer":"cursor-default"}
                ${p[a.size]||"md:col-span-1 md:row-span-1"}
            `,onClick:r?c:void 0,onKeyDown:o=>{r&&(o.key==="Enter"||o.key===" ")&&(o.preventDefault(),c())},role:r?"button":void 0,tabIndex:r?0:-1,children:[e.jsxs("div",{className:"absolute inset-0 bg-slate/5 group-hover:bg-orange/5 transition-colors overflow-hidden",children:[a.gifUrl?e.jsx("img",{src:a.gifUrl,alt:a.label,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full p-4",children:e.jsx(D,{moduleUrl:a.moduleUrl,model:i,exampleId:a.id,dataUrl:a.dataUrl,dataType:a.dataType})}),e.jsx("div",{className:"absolute inset-0 pointer-events-none",children:e.jsx("div",{className:"absolute top-6 right-6 opacity-0 group-hover:opacity-100 transform translate-y-2 group-hover:translate-y-0 transition-all duration-300 pointer-events-auto",children:r&&e.jsx("button",{onClick:o=>{o.stopPropagation(),c()},className:"bg-orange text-white p-3 rounded-xl shadow-hard-sm hover:scale-110 active:scale-95 transition-all",title:"Open in Notebook",children:e.jsx(Q,{className:"w-6 h-6"})})})})]}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-white via-white/95 to-transparent pointer-events-none",children:[e.jsx("div",{className:"flex items-center gap-2 mb-2",children:a.categories.map(o=>e.jsx("span",{className:"text-[9px] font-mono font-bold text-orange uppercase bg-orange/10 px-2 py-0.5 rounded tracking-widest",children:o},o))}),e.jsx("h3",{className:"text-2xl font-display font-bold mb-2 group-hover:text-orange transition-colors",children:a.label}),e.jsxs("p",{className:"text-xs font-mono text-slate/50 line-clamp-2 italic",children:['"',a.prompt,'"']})]}),e.jsx("div",{className:"absolute top-0 left-0 w-12 h-12 border-t-2 border-l-2 border-orange/20 rounded-tl-2xl pointer-events-none"})]})};export{ae as default};
